# Learner's Guide to Android Capture

## What is this guide?

This guide contains all exercises and detailed steps to perform them related to the use of event reports for the Tracker Use Level 1 academy. Please perform each of the exercises when prompted to by your instructors

## Learning objectives for this session

1. Explain the Android App
2. Demonstrate how to install the android app
3. Demonstrate how tracker data can be captured on Android devices including:
   1. Searching for tracked entities
   2. Registering tracked entities
   3. Navigating a person's tracked entity dashboard
   4. Entering event data within a program stages
   5. Completing an enrollment
   6. Entering relationships
   7. Enrolling a tracked entity in multiple programs
   8. Working with tracker data offline

## Exercise 1

### Log in to the Android App

Server URL : the academy instance URL specified by your instructors

Username: android1

Password: District1#

![image-20211001130154619](resources/images/tracker_capture_android/image-20211001130154619.png)

The first time you login may take a little while as it downloads the configuration

### Review the interface

You should see the following programs when logging in

![home_page](resources/images/tracker_capture_android/home_page.png)

### Select the Case-base Surveillance program

Select this program. It should show you a list of individuals registered in the program based on the org units your user is assigned, similar to the front page list in tracker capture.

![TEI_List](resources/images/tracker_capture_android/CBS_TEI_List.png)

### Filter the list

You can filter the list by selecting the filter button and applying relevant filters

![filter](resources/images/tracker_capture_android/android_filters.png)

For example, you can try filtering out completed events.

### Search for an individual that already exists

Search for an individual which already exists.

- Local Case ID : ID-1793576
- First Name : Brianna
- Surname : Richard

![image-20211001130454181](resources/images/tracker_capture_android/cbs_search.png)	

Open this record. You will see all the events associated with the case within the case-base surveillance program, starting with the most recent event. 

 There are 4 tabs at the bottom when you open the record. You can discuss what each tab is and how it relates to what would normally be seen on tracker capture (web). 

![image-20211001131642236](resources/images/tracker_capture_android/cbs_brianna_record.png)

These tabs from left to right represent:

1. Details : it is the page you are on by default when opening the record and shows the TEI info as well as the details of the stages and events
2. The indicators widget
3. The relationships widget
4. The notes widget

Navigate back to the details tabs

You can use the “See details" button within this tab to show (and edit if access allows) all of the attribute information related to the individual. Go back and review the event list.

![image-20211001131729368](resources/images/tracker_capture_android/cbs_brianna_details.png)	

Select the first stage followed by the event within it. Navigate through the various sections to show that the data within the stage has been entered and can be reviewed or updated on the device.

![image-20211001131843454](resources/images/tracker_capture_android/cbs_brianna_stage1.png)	

Exit the record to proceed.

## Exercise 2

### Register a new case

Navigate back to the front page list of the COVID-19 Case-based Surveillance program. 

In order to register someone on the android app, you first must search to see if they exist

Start the search process again that you have just shown.

Enter your details (your first name and surname) and try to search for yourself. You should get a message that your record could not be found.

![image-20211001132003078](resources/images/tracker_capture_android/image-20211001132003078.png)	


Click on the plus sign than select an org unit in which to register the case into. Select Accept once you have select the org unit.

![enrollment_OU](resources/images/tracker_capture_android/select_enrollment_OU.png)

After selecting the org unit, select the registration date. Select Accept once you have selected the date.

![registration_date](resources/images/tracker_capture_android/registration_date.png)

You will then be prompted to enter the remaining attribute information of the person you are registering.

![image-20211001132209804](resources/images/tracker_capture_android/image-20211001132209804.png)	

Fill in this information then select the disk icon in order to save the person's details and enroll them into the program.

You will then be prompted to enter the initial details of the 1st stage. Confirm the date of consultation and select "Update."

![image-20211001132232685](resources/images/tracker_capture_android/image-20211001132232685.png)	

Then you must fill the information for first event.

1. Fill in the details for each section
2. Expand each section by using the tabs

![stage1_details](resources/images/tracker_capture_android/stage1_details.png)

Once you have filled all the details in, save the data by selecting the disk icon

![stage1_complete](resources/images/tracker_capture_android/stage1_complete.png)

You will then be provided with a prompt if you wish to complete the event or not

![complete_event](resources/images/tracker_capture_android/complete_event.png)

If we are done entering data for this event, you can choose the option "Complete." If there is some data missing you can choose the option "Not now." Note to the participants that if you do complete an event and you need to edit it in the future, you are able to open it back up. 

Once you save the details, you will be taken back to the dashboard on the device, which has the same interface as the completed record you previously accessed.

![image-20211001132318633](resources/images/tracker_capture_android/image-20211001132318633.png)

## Exercise 3

### Add a new event

Click on the plus button underneath the second stage "Lab request." It will expand and give you some options, which you can explain to the participant.

Select “Add new” to add a new event.

![image-20211001132512936](resources/images/tracker_capture_android/image-20211001132512936.png)		

It will display the program stage, the data of the request and the org unit. 

![image-20211001132552559](resources/images/tracker_capture_android/image-20211001132552559.png)	

Alter the date of lab request if you need to and select "next" to proceed.

![image-20211001132623615](resources/images/tracker_capture_android/image-20211001132623615.png)	

The form will now load in which you can enter the event details. 

![image-20211001132650775](resources/images/tracker_capture_android/image-20211001132650775.png)	

Fill in the form. You can save the details by selecting the disk icon. You will see the same two options as before (Finish, Finish and complete). Select one to continue.

![image-20211001132716824](resources/images/tracker_capture_android/image-20211001132716824.png)

The lab request and lab result stages are repeatable, and you are able to add multiple events to these stages if needed. Just select the stage and add a new event to it if needed. After adding the event, you will see the repeated stages listed when selecting the program stage.

![repeatable_example](resources/images/tracker_capture_android/repeatable_stage_example.png)

## Exercise 4

### Add a relationship

From the persons tracker dashboard. Click on the relationship icon to associate the contacts with the case. Create a new relationship be selecting the plus button followed by the "Has been in contact with" relationship type.

![image-20211001132846852](resources/images/tracker_capture_android/image-20211001132846852.png)	

Change over to to the COVID-19 Contact Registration and Follow-Up Program by using the top menu.

![relationship_program_select](resources/images/tracker_capture_android/relationship_program_select.png)

Search for an contact which already exists (in this example John Leach).

![image-20211001132905945](resources/images/tracker_capture_android/image-20211001132905945.png)	

Select the contact in order to create a relationship between them and the person you registered. This will take you back to the person's relationship widget and you will see John listed. 

![image-20211001132923765](resources/images/tracker_capture_android/image-20211001132923765.png)

> Note: You can also add in new enrollments when creating a relationship as you can on the web. If your search does not return any result, you will be able to create an enrollment in the program and a relationship will be established after the new person is created.

### Completing the enrollment

Once you are done entering all data for a tracked entity (attribute information, event data, relationships, etc.). You should consider completing the enrollment. In order to complete the enrollment

1. Select the 3-dot menu
2. Select the complete button

![complete_enrollment](resources/images/tracker_capture_android/complete_enrollment.png)

After you have completed the enrollment, the status on the dashboard will change to completed.

![complete_dashboard](resources/images/tracker_capture_android/completed_dashboard.png)

## Exercise 5

### Enroll the person in another program

From the persons tracker dashboard, go back and select the program enrollments.

![image-20211001133140686](resources/images/tracker_capture_android/image-20211001133140686.png)

This will take you to enrollment list dashboard. From here, enroll them into the Vaccination program.

![image-20211001133158265](resources/images/tracker_capture_android/image-20211001133158265.png)

After you select the program to enroll them into, select the date of registration and the organisation unit.

This will then take you to the attribute details. You will see it carries over the details that you have already entered previously and you do not need to enter them again.

![image-20211001133219067](resources/images/tracker_capture_android/image-20211001133219067.png)

Once you have filled/updated these details, save the person by using the disk icon. This should take you to their dashboard in vaccination registry program.

Go back to the search page and you will find your person that you initially enrolled into the Case-based surveillance program now also has an enrollment in the Vaccination program (you will see the small vaccine icon on the list).

![image-20211001133256308](resources/images/tracker_capture_android/image-20211001133256308.png)

## Exercise 6

### Sync the event

Data on android syncs on a schedule. It can also be manually synced from the device to the server. Let us review how to perform the manual sync.

From the search page, select the person’s sync status to see that this data has not been posted online.

![image-20211001133334603](resources/images/tracker_capture_android/image-20211001133334603.png)

If you log in to the web and search, you will not find this person:

![image-20211001133350400](resources/images/tracker_capture_android/image-20211001133350400.png)

Go back to the home page and sync your data using one of the sync status icons.

![sync_home_page](resources/images/tracker_capture_android/sync_home_page.png)

By doing this from the home page, you are able to sync many updated records at once.

Show the person in the web by going to the org unit you registered them to. There attributes and events should all be synced online.

![image-20211001133559469](resources/images/tracker_capture_android/image-20211001133559469.png)

## Exercise 7

### Go offline!

Android allows for storing tracker data offline directly on the device. Records must be synced first or they can not be accessed offline. The number of records that are synced to the device is defined in the settings page of the Android app or globally by your system administrator (if the global option is selected, you will not be able to modify them on the device directly). This is an example if you are able to modify the settings. On your device when you check, you will not be able to modify these settings.

![sync_settings](resources/images/tracker_capture_android/sync_settings.png)

Go to your Android home screen and turn off your wi-fi/mobile data radios.

Go back to the app, select the Vaccination program and search for/register a new person

![image-20211001133720734](resources/images/tracker_capture_android/image-20211001133720734.png)

You will notice that you are able to automatically generate the EPI number. This is because when you were online and created a new record, a number of ID’s were generated and stored for use. You need to be a bit careful here because if all of these ID’s become used up before you connect again, you will not be able to register any more new children. Your system administrator can help configure how many ID's you can use offline. It is recommended to keep this up to 500 ID's. Working offline should therefore be considered carefully.

Go ahead and register a new vaccination and add a new event.

![image-20211001133750679](resources/images/tracker_capture_android/image-20211001133750679.png)

As you have no network connection the data will not sync.

![image-20211001133844095](resources/images/tracker_capture_android/image-20211001133844095.png)

Go ahead and turn on the wi-fi, than sync the data.

Check the record and it should be green, showing it was sent.

![image-20211001133928956](resources/images/tracker_capture_android/image-20211001133928956.png)

You can go online in the web and verify this as well

![image-20211001133949294](resources/images/tracker_capture_android/image-20211001133949294.png)